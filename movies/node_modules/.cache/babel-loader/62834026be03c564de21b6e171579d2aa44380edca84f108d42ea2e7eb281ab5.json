{"ast":null,"code":"var _jsxFileName = \"/home/Pot1/epitech/stage/test_technique/particeep/movies/src/MoviesList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport MovieCard from './MovieCard';\nimport Pagination from './Pagination';\nimport { movies$ } from './movies';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MoviesList = () => {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(4);\n  useEffect(() => {\n    movies$.then(data => {\n      setMovies(data);\n      updateCategories(data);\n    });\n  }, []);\n  const updateCategories = movies => {\n    const uniqueCategories = [...new Set(movies.map(movie => movie.category))];\n    setCategories(uniqueCategories);\n  };\n  const handleDelete = id => {\n    const updatedMovies = movies.filter(movie => movie.id !== id);\n    setMovies(updatedMovies);\n    updateCategories(updatedMovies);\n  };\n  const handleToggleLike = (id, liked) => {\n    const updatedMovies = movies.map(movie => movie.id === id ? {\n      ...movie,\n      liked,\n      likes: liked ? movie.likes + 1 : movie.likes - 1,\n      dislikes: liked ? movie.dislikes - 1 : movie.dislikes + 1\n    } : movie);\n    setMovies(updatedMovies);\n    updateCategories(updatedMovies);\n  };\n  const handleCategoryChange = category => {\n    setSelectedCategories(prev => prev.includes(category) ? prev.filter(c => c !== category) : [...prev, category]);\n  };\n  const filteredMovies = movies.filter(movie => selectedCategories.length === 0 || selectedCategories.includes(movie.category));\n  const indexOfLastMovie = currentPage * itemsPerPage;\n  const indexOfFirstMovie = indexOfLastMovie - itemsPerPage;\n  const currentMovies = filteredMovies.slice(indexOfFirstMovie, indexOfFirstMovie + itemsPerPage);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-container\",\n      children: categories.map(category => /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: selectedCategories.includes(category),\n          onChange: () => handleCategoryChange(category)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this), category]\n      }, category, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-cards-container\",\n      children: currentMovies.map(movie => /*#__PURE__*/_jsxDEV(MovieCard, {\n        movie: movie,\n        onDelete: handleDelete,\n        onToggleLike: handleToggleLike\n      }, movie.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      itemsPerPage: itemsPerPage,\n      totalItems: filteredMovies.length,\n      paginate: setCurrentPage,\n      currentPage: currentPage,\n      setItemsPerPage: setItemsPerPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(MoviesList, \"clLK1V4yYeb10DGDLNa56Auh6to=\");\n_c = MoviesList;\nexport default MoviesList;\nvar _c;\n$RefreshReg$(_c, \"MoviesList\");","map":{"version":3,"names":["React","useState","useEffect","MovieCard","Pagination","movies$","jsxDEV","_jsxDEV","MoviesList","_s","movies","setMovies","categories","setCategories","selectedCategories","setSelectedCategories","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","then","data","updateCategories","uniqueCategories","Set","map","movie","category","handleDelete","id","updatedMovies","filter","handleToggleLike","liked","likes","dislikes","handleCategoryChange","prev","includes","c","filteredMovies","length","indexOfLastMovie","indexOfFirstMovie","currentMovies","slice","children","className","type","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onDelete","onToggleLike","totalItems","paginate","_c","$RefreshReg$"],"sources":["/home/Pot1/epitech/stage/test_technique/particeep/movies/src/MoviesList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MovieCard from './MovieCard';\nimport Pagination from './Pagination';\nimport { movies$ } from './movies';\n\nconst MoviesList = () => {\n    const [movies, setMovies] = useState([]);\n    const [categories, setCategories] = useState([]);\n    const [selectedCategories, setSelectedCategories] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [itemsPerPage, setItemsPerPage] = useState(4);\n\n    useEffect(() => {\n        movies$.then(data => {\n            setMovies(data);\n            updateCategories(data);\n        });\n    }, []);\n\n    const updateCategories = (movies) => {\n        const uniqueCategories = [...new Set(movies.map(movie => movie.category))];\n        setCategories(uniqueCategories);\n    };\n\n    const handleDelete = (id) => {\n        const updatedMovies = movies.filter(movie => movie.id !== id);\n        setMovies(updatedMovies);\n        updateCategories(updatedMovies);\n    };\n\n    const handleToggleLike = (id, liked) => {\n        const updatedMovies = movies.map(movie =>\n            movie.id === id ? { ...movie, liked, likes: liked ? movie.likes + 1 : movie.likes - 1, dislikes: liked ? movie.dislikes - 1 : movie.dislikes + 1 } : movie\n        );\n        setMovies(updatedMovies);\n        updateCategories(updatedMovies);\n    };\n\n    const handleCategoryChange = (category) => {\n        setSelectedCategories(prev =>\n            prev.includes(category)\n                ? prev.filter(c => c !== category)\n                : [...prev, category]\n        );\n    };\n\n    const filteredMovies = movies.filter(movie =>\n        selectedCategories.length === 0 || selectedCategories.includes(movie.category)\n    );\n\n    const indexOfLastMovie = currentPage * itemsPerPage;\n    const indexOfFirstMovie = indexOfLastMovie - itemsPerPage;\n    const currentMovies = filteredMovies.slice(indexOfFirstMovie, indexOfFirstMovie + itemsPerPage);\n\n    return (\n        <div>\n            <div className=\"filter-container\">\n                {categories.map(category => (\n                    <label key={category}>\n                        <input\n                            type=\"checkbox\"\n                            checked={selectedCategories.includes(category)}\n                            onChange={() => handleCategoryChange(category)}\n                        />\n                        {category}\n                    </label>\n                ))}\n            </div>\n            <div className=\"movie-cards-container\">\n                {currentMovies.map(movie => (\n                    <MovieCard\n                        key={movie.id}\n                        movie={movie}\n                        onDelete={handleDelete}\n                        onToggleLike={handleToggleLike}\n                    />\n                ))}\n            </div>\n            <Pagination\n                itemsPerPage={itemsPerPage}\n                totalItems={filteredMovies.length}\n                paginate={setCurrentPage}\n                currentPage={currentPage}\n                setItemsPerPage={setItemsPerPage}\n            />\n        </div>\n    );\n};\n\nexport default MoviesList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}